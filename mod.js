/// <reference types="./mod.d.ts" />
import e from"path";import r from"process";import n from"tty";import t from"util";import o from"fs";import i from"net";import a from"os";var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var u="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function l(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}var p=l,d=f;function m(e){if(p===setTimeout)return setTimeout(e,0);if((p===l||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(r){try{return p.call(null,e,0)}catch(r){return p.call(this,e,0)}}}"function"==typeof u.setTimeout&&(p=setTimeout),"function"==typeof u.clearTimeout&&(d=clearTimeout);var v,g=[],h=!1,y=-1;function _(){h&&v&&(h=!1,v.length?g=v.concat(g):y=-1,g.length&&b())}function b(){if(!h){var e=m(_);h=!0;for(var r=g.length;r;){for(v=g,g=[];++y<r;)v&&v[y].run();y=-1,r=g.length}v=null,h=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===f||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(r){try{return d.call(null,e)}catch(r){return d.call(this,e)}}}(e)}}function w(e,r){this.fun=e,this.array=r}w.prototype.run=function(){this.fun.apply(null,this.array)};function E(){}var O=E,j=E,T=E,k=E,x=E,S=E,N=E;var F=u.performance||{},P=F.now||F.mozNow||F.msNow||F.oNow||F.webkitNow||function(){return(new Date).getTime()};var A=new Date;var D={nextTick:function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];g.push(new w(e,r)),1!==g.length||h||m(b)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:O,addListener:j,once:T,off:k,removeListener:x,removeAllListeners:S,emit:N,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var r=.001*P.call(F),n=Math.floor(r),t=Math.floor(r%1*1e9);return e&&(n-=e[0],(t-=e[1])<0&&(n--,t+=1e9)),[n,t]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-A)/1e3}},C={exports:{}},I={exports:{}},M={exports:{}},R=1e3,U=60*R,V=60*U,L=24*V,z=365.25*L,J=function(e,r){r=r||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!r)return;var n=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*z;case"days":case"day":case"d":return n*L;case"hours":case"hour":case"hrs":case"hr":case"h":return n*V;case"minutes":case"minute":case"mins":case"min":case"m":return n*U;case"seconds":case"second":case"secs":case"sec":case"s":return n*R;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return r.long?function(e){return $(e,L,"day")||$(e,V,"hour")||$(e,U,"minute")||$(e,R,"second")||e+" ms"}(e):function(e){if(e>=L)return Math.round(e/L)+"d";if(e>=V)return Math.round(e/V)+"h";if(e>=U)return Math.round(e/U)+"m";if(e>=R)return Math.round(e/R)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function $(e,r,n){if(!(e<r))return e<1.5*r?Math.floor(e/r)+" "+n:Math.ceil(e/r)+" "+n+"s"}!function(e,r){var n;function t(e){function t(){if(t.enabled){var e=t,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=r.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,t){if("%%"===n)return n;c++;var o=r.formatters[t];if("function"==typeof o){var i=a[c];n=o.call(e,i),a.splice(c,1),c--}return n})),r.formatArgs.call(e,a);var u=t.log||r.log||console.log.bind(console);u.apply(e,a)}}return t.namespace=e,t.enabled=r.enabled(e),t.useColors=r.useColors(),t.color=function(e){var n,t=0;for(n in e)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}(e),"function"==typeof r.init&&r.init(t),t}(r=M.exports=t.debug=t.default=t).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e),r.names=[],r.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),t=n.length,o=0;o<t;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){var n,t;for(n=0,t=r.skips.length;n<t;n++)if(r.skips[n].test(e))return!1;for(n=0,t=r.names.length;n<t;n++)if(r.names[n].test(e))return!0;return!1},r.humanize=J,r.names=[],r.skips=[],r.formatters={}}(0,M.exports),function(e,r){function n(){var e;try{e=r.storage.debug}catch(e){}return!e&&void 0!==D&&"env"in D&&(e=D.env.DEBUG),e}(r=I.exports=M.exports).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+r.humanize(this.diff),!n)return;var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,t)},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=n,r.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(n())}(0,I.exports);var G={exports:{}};!function(e,r){var a=n,s=t;(r=G.exports=M.exports).init=function(e){e.inspectOpts={};for(var n=Object.keys(r.inspectOpts),t=0;t<n.length;t++)e.inspectOpts[n[t]]=r.inspectOpts[n[t]]},r.log=function(){return u.write(s.format.apply(s,arguments)+"\n")},r.formatArgs=function(e){var n=this.namespace;if(this.useColors){var t=this.color,o="  [3"+t+";1m"+n+" [0m";e[0]=o+e[0].split("\n").join("\n"+o),e.push("[3"+t+"m+"+r.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},r.save=function(e){null==e?delete D.env.DEBUG:D.env.DEBUG=e},r.load=l,r.useColors=function(){return"colors"in r.inspectOpts?Boolean(r.inspectOpts.colors):a.isatty(c)},r.colors=[6,2,3,4,5,1],r.inspectOpts=Object.keys(D.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,r){var n=r.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,r){return r.toUpperCase()})),t=D.env[r];return t=!!/^(yes|on|true|enabled)$/i.test(t)||!/^(no|off|false|disabled)$/i.test(t)&&("null"===t?null:Number(t)),e[n]=t,e}),{});var c=parseInt(D.env.DEBUG_FD,10)||2;1!==c&&2!==c&&s.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var u=1===c?D.stdout:2===c?D.stderr:function(e){var r;switch(D.binding("tty_wrap").guessHandleType(e)){case"TTY":(r=new a.WriteStream(e))._type="tty",r._handle&&r._handle.unref&&r._handle.unref();break;case"FILE":(r=new o.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(r=new i.Socket({fd:e,readable:!1,writable:!0})).readable=!1,r.read=null,r._type="pipe",r._handle&&r._handle.unref&&r._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return r.fd=e,r._isStdio=!0,r}(c);function l(){return D.env.DEBUG}r.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},r.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)},r.enable(l())}(0,G.exports),void 0!==D&&"renderer"===D.type?C.exports=I.exports:C.exports=G.exports;var B=a.homedir||function(){var e=D.env.HOME,r=D.env.LOGNAME||D.env.USER||D.env.LNAME||D.env.USERNAME;return"win32"===D.platform?D.env.USERPROFILE||D.env.HOMEDRIVE+D.env.HOMEPATH||e||null:"darwin"===D.platform?e||(r?"/Users/"+r:null):"linux"===D.platform?e||(0===D.getuid()?"/root":r?"/home/"+r:null):e||null},q=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,r){return r};var r=(new Error).stack;return Error.prepareStackTrace=e,r[2].getFileName()},Z={exports:{}},H="win32"===D.platform,X=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,W={};W.parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var r=function(e){return X.exec(e).slice(1)}(e);if(!r||5!==r.length)throw new TypeError("Invalid path '"+e+"'");return{root:r[1],dir:r[0]===r[1]?r[0]:r[0].slice(0,-1),base:r[2],ext:r[4],name:r[3]}};var K=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,Y={};Y.parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var r=function(e){return K.exec(e).slice(1)}(e);if(!r||5!==r.length)throw new TypeError("Invalid path '"+e+"'");return{root:r[1],dir:r[0].slice(0,-1),base:r[2],ext:r[4],name:r[3]}},Z.exports=H?W.parse:Y.parse,Z.exports.posix=Y.parse,Z.exports.win32=W.parse;var Q=e,ee=Q.parse||Z.exports,re=function(e,r){var n="/";/^([A-Za-z]:)/.test(e)?n="":/^\\\\/.test(e)&&(n="\\\\");for(var t=[e],o=ee(e);o.dir!==t[t.length-1];)t.push(o.dir),o=ee(o.dir);return t.reduce((function(e,t){return e.concat(r.map((function(e){return Q.resolve(n,t,e)})))}),[])},ne=function(e,r,n){var t=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&"function"==typeof r.paths)return r.paths(n,e,(function(){return re(e,t)}),r);var o=re(e,t);return r&&r.paths?o.concat(r.paths):o},te=function(e,r){return r||{}},oe="Function.prototype.bind called on incompatible ",ie=Array.prototype.slice,ae=Object.prototype.toString,se=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==ae.call(r))throw new TypeError(oe+r);for(var n,t=ie.call(arguments,1),o=function(){if(this instanceof n){var o=r.apply(this,t.concat(ie.call(arguments)));return Object(o)===o?o:this}return r.apply(e,t.concat(ie.call(arguments)))},i=Math.max(0,r.length-t.length),a=[],s=0;s<i;s++)a.push("$"+s);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,n.prototype=new c,c.prototype=null}return n},ce=(Function.prototype.bind||se).call(Function.call,Object.prototype.hasOwnProperty);function ue(e,r){for(var n=e.split("."),t=r.split(" "),o=t.length>1?t[0]:"=",i=(t.length>1?t[1]:t[0]).split("."),a=0;a<3;++a){var s=parseInt(n[a]||0,10),c=parseInt(i[a]||0,10);if(s!==c)return"<"===o?s<c:">="===o&&s>=c}return">="===o}function le(e,r){var n=r.split(/ ?&& ?/);if(0===n.length)return!1;for(var t=0;t<n.length;++t)if(!ue(e,n[t]))return!1;return!0}var fe={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]},pe=function(e,r){return ce(fe,e)&&function(e,r){if("boolean"==typeof r)return r;var n=void 0===e?D.versions&&D.versions.node:e;if("string"!=typeof n)throw new TypeError(void 0===e?"Unable to determine current node version":"If provided, a valid node version is required");if(r&&"object"==typeof r){for(var t=0;t<r.length;++t)if(le(n,r[t]))return!0;return!1}return le(n,r)}(r,fe[e])},de=o,me=B,ve=e,ge=q,he=ne,ye=te,_e=pe,be=de.realpath&&"function"==typeof de.realpath.native?de.realpath.native:de.realpath,we=me(),Ee=function(e,r){de.stat(e,(function(e,n){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?r(null,!1):r(e):r(null,n.isFile()||n.isFIFO())}))},Oe=function(e,r){de.stat(e,(function(e,n){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?r(null,!1):r(e):r(null,n.isDirectory())}))},je=function(e,r){be(e,(function(n,t){n&&"ENOENT"!==n.code?r(n):r(null,n?e:t)}))},Te=function(e,r,n,t){n&&!1===n.preserveSymlinks?e(r,t):t(null,r)},ke=function(e,r,n){e(r,(function(e,r){if(e)n(e);else try{var t=JSON.parse(r);n(null,t)}catch(e){n(null)}}))},xe={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]},Se=D.versions&&D.versions.node&&D.versions.node.split(".")||[];function Ne(e){for(var r=e.split(" "),n=r.length>1?r[0]:"=",t=(r.length>1?r[1]:r[0]).split("."),o=0;o<3;++o){var i=parseInt(Se[o]||0,10),a=parseInt(t[o]||0,10);if(i!==a)return"<"===n?i<a:">="===n&&i>=a}return">="===n}function Fe(e){var r=e.split(/ ?&& ?/);if(0===r.length)return!1;for(var n=0;n<r.length;++n)if(!Ne(r[n]))return!1;return!0}function Pe(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){for(var r=0;r<e.length;++r)if(Fe(e[r]))return!0;return!1}return Fe(e)}var Ae=xe,De={};for(var Ce in Ae)Object.prototype.hasOwnProperty.call(Ae,Ce)&&(De[Ce]=Pe(Ae[Ce]));var Ie=De,Me=pe,Re=pe,Ue=o,Ve=e,Le=B,ze=q,Je=ne,$e=te,Ge=Ue.realpathSync&&"function"==typeof Ue.realpathSync.native?Ue.realpathSync.native:Ue.realpathSync,Be=Le(),qe=function(e){try{var r=Ue.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!r&&(r.isFile()||r.isFIFO())},Ze=function(e){try{var r=Ue.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!r&&r.isDirectory()},He=function(e){try{return Ge(e)}catch(e){if("ENOENT"!==e.code)throw e}return e},Xe=function(e,r,n){return n&&!1===n.preserveSymlinks?e(r):r},We=function(e,r){var n=e(r);try{return JSON.parse(n)}catch(e){}},Ke=function(e,r,n){var t=n,o=r;if("function"==typeof r&&(t=o,o={}),"string"!=typeof e){var i=new TypeError("Path must be a string.");return D.nextTick((function(){t(i)}))}var a=(o=ye(e,o)).isFile||Ee,s=o.isDirectory||Oe,c=o.readFile||de.readFile,u=o.realpath||je,l=o.readPackage||ke;if(o.readFile&&o.readPackage){var f=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return D.nextTick((function(){t(f)}))}var p=o.packageIterator,d=o.extensions||[".js"],m=!1!==o.includeCoreModules,v=o.basedir||ve.dirname(ge()),g=o.filename||v;o.paths=o.paths||[ve.join(we,".node_modules"),ve.join(we,".node_libraries")];var h,y=ve.resolve(v);function _(r,n,i){r?t(r):n?t(null,n,i):E(h,(function(r,n,i){if(r)t(r);else if(n)Te(u,n,o,(function(e,r){e?t(e):t(null,r,i)}));else{var a=new Error("Cannot find module '"+e+"' from '"+g+"'");a.code="MODULE_NOT_FOUND",t(a)}}))}function b(e,r,n){var t=r,i=n;"function"==typeof t&&(i=t,t=void 0),function e(r,n,t){if(0===r.length)return i(null,void 0,t);var s=n+r[0],c=t;c?u(null,c):w(ve.dirname(s),u);function u(t,u,f){if(c=u,t)return i(t);if(f&&c&&o.pathFilter){var p=ve.relative(f,s),m=p.slice(0,p.length-r[0].length),v=o.pathFilter(c,n,m);if(v)return e([""].concat(d.slice()),ve.resolve(f,v),c)}a(s,l)}function l(t,o){return t?i(t):o?i(null,s,c):void e(r.slice(1),n,c)}}([""].concat(d),e,t)}function w(e,r){return""===e||"/"===e||/[/\\]node_modules[/\\]*$/.test(e)?r(null):void Te(u,e,o,(function(n,t){if(n)return w(ve.dirname(e),r);var i=ve.join(t,"package.json");a(i,(function(n,t){if(!t)return w(ve.dirname(e),r);l(c,i,(function(n,t){n&&r(n);var a=t;a&&o.packageFilter&&(a=o.packageFilter(a,i)),r(null,a,e)}))}))}))}function E(e,r,n){var t=n,i=r;"function"==typeof i&&(t=i,i=o.package),Te(u,e,o,(function(r,n){if(r)return t(r);var s=ve.join(n,"package.json");a(s,(function(r,n){return r?t(r):n?void l(c,s,(function(r,n){if(r)return t(r);var i=n;if(i&&o.packageFilter&&(i=o.packageFilter(i,s)),i&&i.main){if("string"!=typeof i.main){var a=new TypeError("package “"+i.name+"” `main` must be a string");return a.code="INVALID_PACKAGE_MAIN",t(a)}return"."!==i.main&&"./"!==i.main||(i.main="index"),void b(ve.resolve(e,i.main),i,(function(r,n,o){return r?t(r):n?t(null,n,o):o?void E(ve.resolve(e,o.main),o,(function(r,n,o){return r?t(r):n?t(null,n,o):void b(ve.join(e,"index"),o,t)})):b(ve.join(e,"index"),o,t)}))}b(ve.join(e,"/index"),i,t)})):b(ve.join(e,"index"),i,t)}))}))}function O(e,r){if(0===r.length)return e(null,void 0);var n=r[0];function t(r,t,a){return r?e(r):t?e(null,t,a):void E(n,o.package,i)}function i(n,t,o){return n?e(n):t?e(null,t,o):void O(e,r.slice(1))}s(ve.dirname(n),(function(i,a){if(i)return e(i);if(!a)return O(e,r.slice(1));b(n,o.package,t)}))}Te(u,y,o,(function(r,n){r?t(r):function(r){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))h=ve.resolve(r,e),"."!==e&&".."!==e&&"/"!==e.slice(-1)||(h+="/"),/\/$/.test(e)&&h===r?E(h,o.package,_):b(h,o.package,_);else{if(m&&_e(e))return t(null,e);!function(e,r,n){var t=function(){return function(e,r,n){for(var t=he(r,n,e),o=0;o<t.length;o++)t[o]=ve.join(t[o],e);return t}(e,r,o)};O(n,p?p(e,r,t,o):t())}(e,r,(function(r,n,i){if(r)t(r);else{if(n)return Te(u,n,o,(function(e,r){e?t(e):t(null,r,i)}));var a=new Error("Cannot find module '"+e+"' from '"+g+"'");a.code="MODULE_NOT_FOUND",t(a)}}))}}(n)}))};Ke.core=Ie,Ke.isCore=function(e){return Me(e)},Ke.sync=function(e,r){if("string"!=typeof e)throw new TypeError("Path must be a string.");var n=$e(e,r),t=n.isFile||qe,o=n.readFileSync||Ue.readFileSync,i=n.isDirectory||Ze,a=n.realpathSync||He,s=n.readPackageSync||We;if(n.readFileSync&&n.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var c=n.packageIterator,u=n.extensions||[".js"],l=!1!==n.includeCoreModules,f=n.basedir||Ve.dirname(ze()),p=n.filename||f;n.paths=n.paths||[Ve.join(Be,".node_modules"),Ve.join(Be,".node_libraries")];var d=Xe(a,Ve.resolve(f),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var m=Ve.resolve(d,e);"."!==e&&".."!==e&&"/"!==e.slice(-1)||(m+="/");var v=y(m)||b(m);if(v)return Xe(a,v,n)}else{if(l&&Re(e))return e;var g=function(e,r){for(var t=function(){return function(e,r,n){for(var t=Je(r,n,e),o=0;o<t.length;o++)t[o]=Ve.join(t[o],e);return t}(e,r,n)},o=c?c(e,r,t,n):t(),a=0;a<o.length;a++){var s=o[a];if(i(Ve.dirname(s))){var u=y(s);if(u)return u;var l=b(s);if(l)return l}}}(e,d);if(g)return Xe(a,g,n)}var h=new Error("Cannot find module '"+e+"' from '"+p+"'");throw h.code="MODULE_NOT_FOUND",h;function y(e){var r=_(Ve.dirname(e));if(r&&r.dir&&r.pkg&&n.pathFilter){var o=Ve.relative(r.dir,e),i=n.pathFilter(r.pkg,e,o);i&&(e=Ve.resolve(r.dir,i))}if(t(e))return e;for(var a=0;a<u.length;a++){var s=e+u[a];if(t(s))return s}}function _(e){if(""!==e&&"/"!==e&&!/[/\\]node_modules[/\\]*$/.test(e)){var r=Ve.join(Xe(a,e,n),"package.json");if(!t(r))return _(Ve.dirname(e));var i=s(o,r);return i&&n.packageFilter&&(i=n.packageFilter(i,e)),{pkg:i,dir:e}}}function b(e){var r=Ve.join(Xe(a,e,n),"/package.json");if(t(r)){try{var i=s(o,r)}catch(e){}if(i&&n.packageFilter&&(i=n.packageFilter(i,e)),i&&i.main){if("string"!=typeof i.main){var c=new TypeError("package “"+i.name+"” `main` must be a string");throw c.code="INVALID_PACKAGE_MAIN",c}"."!==i.main&&"./"!==i.main||(i.main="index");try{var u=y(Ve.resolve(e,i.main));if(u)return u;var l=b(Ve.resolve(e,i.main));if(l)return l}catch(e){}}}return y(Ve.join(e,"/index"))}};var Ye=Ke,Qe="function"==typeof Object.defineProperty?Object.defineProperty:null;var er=function(){try{return Qe({},"x",{}),!0}catch(e){return!1}},rr=Object.defineProperty,nr=Object.prototype,tr=nr.toString,or=nr.__defineGetter__,ir=nr.__defineSetter__,ar=nr.__lookupGetter__,sr=nr.__lookupSetter__;var cr=function(e,r,n){var t,o,i,a;if("object"!=typeof e||null===e||"[object Array]"===tr.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof n||null===n||"[object Array]"===tr.call(n))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+n+"`.");if((o="value"in n)&&(ar.call(e,r)||sr.call(e,r)?(t=e.__proto__,e.__proto__=nr,delete e[r],e[r]=n.value,e.__proto__=t):e[r]=n.value),i="get"in n,a="set"in n,o&&(i||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&or&&or.call(e,r,n.get),a&&ir&&ir.call(e,r,n.set),e},ur=rr,lr=cr,fr=er()?ur:lr;var pr=function(e,r,n){fr(e,r,{configurable:!1,enumerable:!1,writable:!1,value:n})},dr=pr;var mr=function(e){return"string"==typeof e};var vr=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var gr=function(){return vr&&"symbol"==typeof Symbol.toStringTag},hr=Object.prototype.toString,yr=hr;var _r=function(e){return yr.call(e)},br=Object.prototype.hasOwnProperty;var wr=function(e,r){return null!=e&&br.call(e,r)},Er="function"==typeof Symbol?Symbol.toStringTag:"",Or=wr,jr=Er,Tr=hr;var kr=_r,xr=function(e){var r,n,t;if(null==e)return Tr.call(e);n=e[jr],r=Or(e,jr);try{e[jr]=void 0}catch(r){return Tr.call(e)}return t=Tr.call(e),r?e[jr]=n:delete e[jr],t},Sr=gr()?xr:kr,Nr=String.prototype.valueOf;var Fr=Sr,Pr=function(e){try{return Nr.call(e),!0}catch(e){return!1}},Ar=gr();var Dr=function(e){return"object"==typeof e&&(e instanceof String||(Ar?Pr(e):"[object String]"===Fr(e)))},Cr=mr,Ir=Dr;var Mr=dr,Rr=function(e){return Cr(e)||Ir(e)},Ur=Dr;Mr(Rr,"isPrimitive",mr),Mr(Rr,"isObject",Ur);var Vr=Rr,Lr=/./;var zr=function(e){return"boolean"==typeof e},Jr=Boolean.prototype.toString;var $r=Sr,Gr=function(e){try{return Jr.call(e),!0}catch(e){return!1}},Br=gr();var qr=function(e){return"object"==typeof e&&(e instanceof Boolean||(Br?Gr(e):"[object Boolean]"===$r(e)))},Zr=zr,Hr=qr;var Xr=dr,Wr=function(e){return Zr(e)||Hr(e)},Kr=qr;Xr(Wr,"isPrimitive",zr),Xr(Wr,"isObject",Kr);var Yr="object"==typeof self?self:null,Qr="object"==typeof window?window:null,en=Wr.isPrimitive,rn=function(){return new Function("return this;")()},nn=Yr,tn=Qr,on="object"==typeof s?s:null;var an=function(e){if(arguments.length){if(!en(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return rn()}if(nn)return nn;if(tn)return tn;if(on)return on;throw new Error("unexpected error. Unable to resolve global object.")},sn=an(),cn=sn.document&&sn.document.childNodes,un=Int8Array,ln=Lr,fn=cn,pn=un;var dn=function(){return"function"==typeof ln||"object"==typeof pn||"function"==typeof fn};var mn=function(){return/^\s*function\s*([^(]*)/i},vn=mn;dr(vn,"REGEXP",mn());var gn=vn,hn=Sr;var yn=Array.isArray?Array.isArray:function(e){return"[object Array]"===hn(e)},_n=yn;var bn=function(e){return null!==e&&"object"==typeof e};dr(bn,"isObjectLikeArray",function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(r){var n,t;if(!_n(r))return!1;if(0===(n=r.length))return!1;for(t=0;t<n;t++)if(!1===e(r[t]))return!1;return!0}}(bn));var wn=bn;var En=Sr,On=gn.REGEXP,jn=function(e){return wn(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))};var Tn=function(e){var r,n,t;if(("Object"===(n=En(e).slice(8,-1))||"Error"===n)&&e.constructor){if("string"==typeof(t=e.constructor).name)return t.name;if(r=On.exec(t.toString()))return r[1]}return jn(e)?"Buffer":n},kn=Tn;var xn=Tn;var Sn=function(e){var r;return null===e?"null":"object"===(r=typeof e)?kn(e).toLowerCase():r},Nn=function(e){return xn(e).toLowerCase()},Fn=dn()?Nn:Sn;var Pn=function(e){return"function"===Fn(e)},An=r;var Dn,Cn=function(){return An.cwd()},In=o;Dn="function"==typeof In.access?In.access:In.stat;var Mn,Rn=function(e,r){Dn(e,(function(e){if(2===r.length)return e?r(e,!1):r(null,!0);if(e)return r(!1);return r(!0)}))},Un=o;Mn="function"==typeof Un.accessSync?Un.accessSync:Un.statSync;var Vn=function(e){try{Mn(e)}catch(e){return!1}return!0},Ln=Rn;dr(Ln,"sync",Vn);var zn=Ln,Jn=yn;var $n=function(e){return"object"==typeof e&&null!==e&&!Jn(e)},Gn=Object.getPrototypeOf;var Bn=function(e){return e.__proto__},qn=Sr,Zn=Bn;var Hn=function(e){var r=Zn(e);return r||null===r?r:"[object Function]"===qn(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null},Xn=Gn,Wn=Hn,Kn=Pn(Object.getPrototypeOf)?Xn:Wn;var Yn=$n,Qn=Pn,et=function(e){return null==e?null:(e=Object(e),Kn(e))},rt=wr,nt=Sr,tt=Object.prototype;var ot=function(e){var r;return!!Yn(e)&&(!(r=et(e))||!rt(e,"constructor")&&rt(r,"constructor")&&Qn(r.constructor)&&"[object Function]"===nt(r.constructor)&&rt(r,"isPrototypeOf")&&Qn(r.isPrototypeOf)&&(r===tt||function(e){var r;for(r in e)if(!rt(e,r))return!1;return!0}(e)))},it=ot,at=wr,st=Vr.isPrimitive;var ct=function(e,r){return it(r)?at(r,"dir")&&(e.dir=r.dir,!st(e.dir))?new TypeError("invalid option. `dir` option must be a primitive string. Option: `"+e.dir+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+r+"`.")},ut=e.resolve,lt=Vr.isPrimitive,ft=Pn,pt=Cn,dt=zn,mt=ct;var vt=function(e,r,n){var t,o,i,a,s,c;if(!lt(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(i={},arguments.length>2){if(a=n,c=mt(i,r))throw c}else a=r;if(!ft(a))throw new TypeError("invalid argument. Callback argument must be a function. Value: `"+a+"`.");function u(r,n){return n?a(null,t):(o=s,s=ut(s,".."),o===s?a(null,null):(t=ut(s,e),void dt(t,u)))}s=i.dir?ut(pt(),i.dir):pt(),t=ut(s,e),dt(t,u)},gt=e.resolve,ht=Vr.isPrimitive,yt=Cn,_t=zn.sync,bt=ct;var wt=function(e,r){var n,t,o,i,a;if(!ht(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(o={},arguments.length>1&&(a=bt(o,r)))throw a;for(i=o.dir?gt(yt(),o.dir):yt();t!==i;){if(n=gt(i,e),_t(n))return n;t=i,i=gt(i,"..")}return null},Et=vt;dr(Et,"sync",wt);var Ot=Et;var jt=function(){return/^\\\\\?\\.+/},Tt=jt;dr(Tt,"REGEXP",jt());var kt=Tt,xt=Vr.isPrimitive;var St=function(e){if(!xt(e))throw new TypeError("invalid argument. Must provide a primitive string. Value: `"+e+"`.");return e.toLowerCase()},Nt=Vr.isPrimitive,Ft=/[-\/\\^$*+?.()|[\]{}]/g;var Pt=function(e){var r,n;if(!Nt(e))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+e+"`.");if("/"===e[0])for(n=e.length-1;n>=0&&"/"!==e[n];n--);return void 0===n||n<=0?e.replace(Ft,"\\$&"):(r=(r=e.substring(1,n)).replace(Ft,"\\$&"),e=e[0]+r+e.substring(n))},At=Pt,Dt=RegExp.prototype.exec;var Ct=Sr,It=function(e){try{return Dt.call(e),!0}catch(e){return!1}},Mt=gr();var Rt=At,Ut=Pn,Vt=Vr.isPrimitive,Lt=function(e){return"object"==typeof e&&(e instanceof RegExp||(Mt?It(e):"[object RegExp]"===Ct(e)))};var zt=Vr.isPrimitive,Jt=kt,$t=St,Gt=function(e,r,n){if(!Vt(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(Vt(r))r=Rt(r),r=new RegExp(r,"g");else if(!Lt(r))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+r+"`.");if(!Vt(n)&&!Ut(n))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+n+"`.");return e.replace(r,n)},Bt=/^([A-Za-z]):[\\\/]+/,qt=/^\/([A-Za-z])\//;var Zt=function(e,r){var n,t,o;if(!zt(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(!zt(r))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+r+"`.");if("win32"!==r&&"mixed"!==r&&"posix"!==r)throw new Error("invalid argument. Second argument must be a recognized output path convention. Value: `"+r+"`.");if(o=e,"win32"===r)return(t=qt.exec(o))&&(n=t[1]+":\\",o=Gt(o,qt,n)),Gt(o,"/","\\");if(Jt.REGEXP.test(e))throw new Error("invalid argument. Cannot convert Windows extended-length paths to POSIX paths. Value: `"+e+"`.");return"mixed"===r?((t=qt.exec(o))?(n=t[1]+":/",o=Gt(o,qt,n)):(t=Bt.exec(o))&&(n=t[1]+":/",o=Gt(o,Bt,n)),Gt(o,"\\","/")):((t=Bt.exec(o))&&(n="/"+$t(t[1])+"/",o=Gt(o,Bt,n)),Gt(o,"\\","/"))};var Ht=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},Xt=Object.keys;var Wt=function(e){var r,n;for(r={},n=0;n<e.length;n++)r[e[n]]=!0;return Xt(r)},Kt=Ht,Yt=Object.prototype.hasOwnProperty;var Qt=function(e,r){return Kt(r)?Yt.call(r,"basedir")&&(e.basedir=r.basedir,"string"!=typeof e.basedir)?new TypeError("invalid option. `basedir` option must be a primitive string. Option: `"+e.basedir+"`."):Yt.call(r,"paths")&&(e.paths=r.paths,"string"!=typeof e.paths)?new TypeError("invalid option. `paths` option must be a primitive string. Option: `"+e.paths+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+r+"`.")},eo={filename:"manifest.json",basedir:"",paths:""},ro=e,no=r.cwd,to=C.exports,oo=Ye.sync,io=Ot.sync,ao=Zt,so=Ht,co=Wt,uo=Qt,lo=eo,fo=to("library-manifest:main"),po=Object.prototype.hasOwnProperty,mo=Object.keys;var vo=function e(r,n,t){var o,i,a,s,u,l,f,p,d,m,v,g,h,y,_,b;if("string"!=typeof r)throw new TypeError("invalid argument. First argument must be a string. Value: `"+r+"`.");if(l=JSON.parse(JSON.stringify(lo)),arguments.length>2){if(v=uo(l,t))throw v;l.basedir=ro.resolve(no(),l.basedir)}else l.basedir=no();if(fo("Options: %s",JSON.stringify(l)),r=ro.resolve(l.basedir,r),g=ro.dirname(r),fo("Manifest file path: %s",r),u=c(r),u=JSON.parse(JSON.stringify(u)),fo("Manifest: %s",JSON.stringify(u)),!so(n))throw new TypeError("invalid argument. Second argument must be an object. Value: `"+n+"`.");for(fo("Provided conditions: %s",JSON.stringify(n)),o=mo(u.options),y=0;y<o.length;y++)d=o[y],po.call(n,d)&&(u.options[d]=n[d]);for(fo("Conditions for matching a configuration: %s",JSON.stringify(u.options)),fo("Resolving matching configuration."),y=0;y<u.confs.length;y++){for(h=u.confs[y],_=0;_<o.length&&(d=o[_],po.call(h,d)&&h[d]===u.options[d]);_++);if(_===o.length){p=JSON.parse(JSON.stringify(h)),fo("Matching configuration: %s",JSON.stringify(p));break}}if(void 0===p)return fo("Unable to resolve a matching configuration."),{};for(y=0;y<u.fields.length;y++)if(d=u.fields[y].field,po.call(p,d)&&(h=p[d],u.fields[y].resolve))for(_=0;_<h.length;_++)h[_]=ro.resolve(g,h[_]);for(f=p.dependencies,fo("Resolving %d dependencies.",f.length),a={basedir:l.basedir},y=0;y<f.length;y++){for(fo("Resolving dependency: %s",f[y]),i=oo(f[y],a),fo("Dependency entry point: %s",i),i=io("package.json",{dir:ro.dirname(i)}),i=ro.dirname(i),fo("Dependency path: %s",i),s={basedir:i},h=e(ro.join(i,l.filename),n,s),fo("Dependency manifest: %s",JSON.stringify(h)),fo("Merging dependency manifest."),_=0;_<u.fields.length;_++)if(d=u.fields[_].field,po.call(h,d)){if(m=h[d],u.fields[_].resolve)for(b=0;b<m.length;b++)m[b]=ro.resolve(i,m[b]);p[d]=p[d].concat(m)}fo("Resolved dependency: %s",f[y])}for(fo("Removing duplicate entries."),y=0;y<u.fields.length;y++)d=u.fields[y].field,po.call(p,d)&&(p[d]=co(p[d]));for(fo("Generating relative paths."),y=0;y<u.fields.length;y++)if(d=u.fields[y].field,po.call(p,d)&&u.fields[y].resolve&&u.fields[y].relative)for(m=p[d],_=0;_<m.length;_++)m[_]=ro.relative(g,m[_]);if(l.paths)for(fo("Converting paths to specified convention."),y=0;y<u.fields.length;y++)if(d=u.fields[y].field,po.call(p,d))for(m=p[d],_=0;_<m.length;_++)m[_]=ao(m[_],l.paths);return fo("Final configuration: %s",JSON.stringify(p)),p},go=vo;export{go as default};
//# sourceMappingURL=mod.js.map
