{"version":3,"file":"index.mjs","sources":["../lib/is_object.js","../lib/unique.js","../lib/validate.js","../lib/manifest.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Tests if a value is an object; e.g., `{}`.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is an object\n*\n* @example\n* var bool = isObject( {} );\n* // returns true\n*\n* @example\n* var bool = isObject( null );\n* // returns false\n*/\nfunction isObject( value ) {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t!Array.isArray( value )\t// NOTE: we inline the `isObject` function from `@stdlib/assert/is-object` and use the built-in `isArray` method in this particular package in order to avoid circular dependencies. This should not be problematic as (1) this package is unlikely to be used outside of Node.js and, thus, in environments lacking support for the built-in APIs, and (2) most of the historical bugs for the respective APIs were in environments such as IE and not the versions of V8 included in Node.js >= v0.10.x.\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isObject;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\n// NOTE: for the following, we explicitly avoid using stdlib packages in this particular package in order to avoid circular dependencies. This should not be problematic as (1) this package is unlikely to be used outside of Node.js and, thus, in environments lacking support for the built-in APIs, and (2) most of the historical bugs for the respective APIs were in environments such as IE and not the versions of V8 included in Node.js >= v0.10.x.\nvar objectKeys = Object.keys;\n\n\n// MAIN //\n\n/**\n* Returns an array of unique values.\n*\n* @private\n* @param {StringArray} arr - input array\n* @returns {StringArray} array with unique values\n*/\nfunction unique( arr ) {\n\tvar obj;\n\tvar i;\n\tobj = {};\n\tfor ( i = 0; i < arr.length; i++ ) {\n\t\tobj[ arr[i] ] = true;\n\t}\n\treturn objectKeys( obj );\n}\n\n\n// EXPORTS //\n\nmodule.exports = unique;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\n// NOTE: for the following, we explicitly avoid using stdlib packages in this particular package in order to avoid circular dependencies. This should not be problematic as (1) this package is unlikely to be used outside of Node.js and, thus, in environments lacking support for the built-in APIs, and (2) most of the historical bugs for the respective APIs were in environments such as IE and not the versions of V8 included in Node.js >= v0.10.x.\nvar isObject = require( './is_object.js' );\n\n\n// VARIABLES //\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n\n\n// MAIN //\n\n/**\n* Validates function options.\n*\n* @private\n* @param {Object} opts - destination object\n* @param {Options} options - function options\n* @param {string} [options.basedir] - base search directory\n* @param {string} [options.paths] - path convention\n* @returns {Error|null} error or null\n*\n* @example\n* var options = {\n*     'basedir': '/beep/boop/foo/bar',\n*     'paths': 'win32'\n* };\n* var opts = {};\n* var err = validate( opts, options );\n* if ( err ) {\n*     throw err;\n* }\n*/\nfunction validate( opts, options ) {\n\tif ( !isObject( options ) ) {\n\t\treturn new TypeError( 'invalid argument. Options argument must be an object. Value: `' + options + '`.' );\n\t}\n\tif ( hasOwnProp.call( options, 'basedir' ) ) {\n\t\topts.basedir = options.basedir;\n\t\tif ( typeof opts.basedir !== 'string' ) {\n\t\t\treturn new TypeError( 'invalid option. `basedir` option must be a primitive string. Option: `' + opts.basedir + '`.' );\n\t\t}\n\t}\n\tif ( hasOwnProp.call( options, 'paths' ) ) {\n\t\topts.paths = options.paths;\n\t\tif ( typeof opts.paths !== 'string' ) {\n\t\t\treturn new TypeError( 'invalid option. `paths` option must be a primitive string. Option: `' + opts.paths + '`.' );\n\t\t}\n\t}\n\treturn null;\n}\n\n\n// EXPORTS //\n\nmodule.exports = validate;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar path = require( 'path' );\nvar cwd = require( 'process' ).cwd;\nvar logger = require( 'debug' );\nvar resolve = require( 'resolve' ).sync;\nvar parentPath = require( '@stdlib/fs-resolve-parent-path' ).sync;\nvar convertPath = require( '@stdlib/utils-convert-path' );\nvar isObject = require( './is_object.js' );\nvar unique = require( './unique.js' );\nvar validate = require( './validate.js' );\nvar DEFAULTS = require( './defaults.json' );\n\n\n// VARIABLES //\n\nvar debug = logger( 'library-manifest:main' );\n\n// NOTE: for the following, we explicitly avoid using stdlib packages in this particular package in order to avoid circular dependencies. This should not be problematic as (1) this package is unlikely to be used outside of Node.js and, thus, in environments lacking support for the built-in APIs, and (2) most of the historical bugs for the respective APIs were in environments such as IE and not the versions of V8 included in Node.js >= v0.10.x.\nvar hasOwnProp = Object.prototype.hasOwnProperty;\nvar objectKeys = Object.keys;\n\n\n// MAIN //\n\n/**\n* Returns a configuration.\n*\n* @param {string} fpath - manifest file path\n* @param {Object} conditions - conditions\n* @param {Options} [options] - options\n* @param {string} [options.basedir] - base search directory\n* @param {string} [options.paths] - path convention\n* @throws {TypeError} first argument must be a string\n* @throws {TypeError} second argument must be an object\n* @throws {TypeError} options argument must be a plain object\n* @throws {TypeError} must provide valid options\n* @returns {Object} configuration\n*\n* @example\n* var conf = manifest( './manifest.json', {} );\n*/\nfunction manifest( fpath, conditions, options ) {\n\tvar coptnames;\n\tvar mpath;\n\tvar ropts;\n\tvar mopts;\n\tvar conf;\n\tvar opts;\n\tvar deps;\n\tvar obj;\n\tvar key;\n\tvar tmp;\n\tvar err;\n\tvar dir;\n\tvar o;\n\tvar i;\n\tvar j;\n\tvar k;\n\n\tif ( typeof fpath !== 'string' ) {\n\t\tthrow new TypeError( 'invalid argument. First argument must be a string. Value: `'+fpath+'`.' );\n\t}\n\topts = JSON.parse( JSON.stringify( DEFAULTS ) );\n\tif ( arguments.length > 2 ) {\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t\topts.basedir = path.resolve( cwd(), opts.basedir );\n\t} else {\n\t\topts.basedir = cwd();\n\t}\n\tdebug( 'Options: %s', JSON.stringify( opts ) );\n\n\tfpath = path.resolve( opts.basedir, fpath );\n\tdir = path.dirname( fpath );\n\tdebug( 'Manifest file path: %s', fpath );\n\n\tconf = require( fpath ); // eslint-disable-line stdlib/no-dynamic-require\n\n\t// NOTE: Instead of using `@stdlib/utils/copy`, we stringify and then parse the configuration object to create a deep copy in an ES5 environment while avoiding circular dependencies. This assumes that the configuration object is valid JSON.\n\tconf = JSON.parse( JSON.stringify( conf ) );\n\tdebug( 'Manifest: %s', JSON.stringify( conf ) );\n\n\t// TODO: validate a loaded manifest (conf) according to a JSON schema\n\n\t// Handle input conditions...\n\tif ( !isObject( conditions ) ) {\n\t\tthrow new TypeError( 'invalid argument. Second argument must be an object. Value: `' + conditions + '`.' );\n\t}\n\tdebug( 'Provided conditions: %s', JSON.stringify( conditions ) );\n\tcoptnames = objectKeys( conf.options );\n\tfor ( i = 0; i < coptnames.length; i++ ) {\n\t\tkey = coptnames[ i ];\n\t\tif ( hasOwnProp.call( conditions, key ) ) {\n\t\t\tconf.options[ key ] = conditions[ key ];\n\t\t}\n\t}\n\tdebug( 'Conditions for matching a configuration: %s', JSON.stringify( conf.options ) );\n\n\t// Resolve a configuration based on provided conditions...\n\tdebug( 'Resolving matching configuration.' );\n\tfor ( i = 0; i < conf.confs.length; i++ ) {\n\t\to = conf.confs[ i ];\n\n\t\t// Require that all conditions must match in order to match a configuration...\n\t\tfor ( j = 0; j < coptnames.length; j++ ) {\n\t\t\tkey = coptnames[ j ];\n\t\t\tif (\n\t\t\t\t!hasOwnProp.call( o, key ) ||\n\t\t\t\to[ key ] !== conf.options[ key ]\n\t\t\t) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// If we exhausted all the options, then we found a match...\n\t\tif ( j === coptnames.length ) {\n\t\t\t// NOTE: Instead of using `@stdlib/utils/copy`, we stringify and then parse the object to create a deep copy in an ES5 environment while avoiding circular dependencies. This assumes that the object is valid JSON.\n\t\t\tobj = JSON.parse( JSON.stringify( o ) );\n\t\t\tdebug( 'Matching configuration: %s', JSON.stringify( obj ) );\n\t\t\tbreak;\n\t\t}\n\t}\n\tif ( obj === void 0 ) {\n\t\tdebug( 'Unable to resolve a matching configuration.' );\n\t\treturn {};\n\t}\n\t// Resolve manifest file paths...\n\tfor ( i = 0; i < conf.fields.length; i++ ) {\n\t\tkey = conf.fields[ i ].field;\n\t\tif ( hasOwnProp.call( obj, key ) ) {\n\t\t\to = obj[ key ];\n\t\t\tif ( conf.fields[ i ].resolve ) {\n\t\t\t\tfor ( j = 0; j < o.length; j++ ) {\n\t\t\t\t\to[ j ] = path.resolve( dir, o[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Resolve dependencies (WARNING: circular dependencies will cause an infinite loop)...\n\tdeps = obj.dependencies;\n\n\tdebug( 'Resolving %d dependencies.', deps.length );\n\tropts = {\n\t\t'basedir': opts.basedir\n\t};\n\tfor ( i = 0; i < deps.length; i++ ) {\n\t\tdebug( 'Resolving dependency: %s', deps[ i ] );\n\n\t\t// Resolve a dependency's main entry point:\n\t\tmpath = resolve( deps[ i ], ropts );\n\t\tdebug( 'Dependency entry point: %s', mpath );\n\n\t\t// Resolve a dependency's path by finding the dependency's `package.json`:\n\t\tmpath = parentPath( 'package.json', {\n\t\t\t'dir': path.dirname( mpath )\n\t\t});\n\t\tmpath = path.dirname( mpath );\n\t\tdebug( 'Dependency path: %s', mpath );\n\n\t\t// Load the dependency configuration (recursive):\n\t\tmopts = {\n\t\t\t'basedir': mpath\n\t\t};\n\t\to = manifest( path.join( mpath, opts.filename ), conditions, mopts );\n\t\tdebug( 'Dependency manifest: %s', JSON.stringify( o ) );\n\n\t\t// Merge each field into the main configuration making sure to resolve file paths (note: we ignore whether a dependency specifies whether to generate relative paths; the only context where relative path generation is considered is the root manifest)...\n\t\tdebug( 'Merging dependency manifest.' );\n\t\tfor ( j = 0; j < conf.fields.length; j++ ) {\n\t\t\tkey = conf.fields[ j ].field;\n\t\t\tif ( hasOwnProp.call( o, key ) ) {\n\t\t\t\ttmp = o[ key ];\n\t\t\t\tif ( conf.fields[ j ].resolve ) {\n\t\t\t\t\tfor ( k = 0; k < tmp.length; k++ ) {\n\t\t\t\t\t\ttmp[ k ] = path.resolve( mpath, tmp[ k ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tobj[ key ] = obj[ key ].concat( tmp );\n\t\t\t}\n\t\t}\n\t\tdebug( 'Resolved dependency: %s', deps[ i ] );\n\t}\n\t// Dedupe values (dependencies may share common dependencies)...\n\tdebug( 'Removing duplicate entries.' );\n\tfor ( i = 0; i < conf.fields.length; i++ ) {\n\t\tkey = conf.fields[ i ].field;\n\t\tif ( hasOwnProp.call( obj, key ) ) {\n\t\t\tobj[ key ] = unique( obj[ key ] );\n\t\t}\n\t}\n\t// Generate relative paths (if specified)...\n\tdebug( 'Generating relative paths.' );\n\tfor ( i = 0; i < conf.fields.length; i++ ) {\n\t\tkey = conf.fields[ i ].field;\n\t\tif (\n\t\t\thasOwnProp.call( obj, key ) &&\n\t\t\tconf.fields[ i ].resolve &&\n\t\t\tconf.fields[ i ].relative\n\t\t) {\n\t\t\ttmp = obj[ key ];\n\t\t\tfor ( j = 0; j < tmp.length; j++ ) {\n\t\t\t\ttmp[ j ] = path.relative( dir, tmp[ j ] );\n\t\t\t}\n\t\t}\n\t}\n\t// Convert paths to a particular path convention...\n\tif ( opts.paths ) {\n\t\tdebug( 'Converting paths to specified convention.' );\n\t\tfor ( i = 0; i < conf.fields.length; i++ ) {\n\t\t\tkey = conf.fields[ i ].field;\n\t\t\tif ( hasOwnProp.call( obj, key ) ) {\n\t\t\t\ttmp = obj[ key ];\n\t\t\t\tfor ( j = 0; j < tmp.length; j++ ) {\n\t\t\t\t\ttmp[ j ] = convertPath( tmp[ j ], opts.paths );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tdebug( 'Final configuration: %s', JSON.stringify( obj ) );\n\treturn obj;\n}\n\n\n// EXPORTS //\n\nmodule.exports = manifest;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Load a manifest for compiling source files.\n*\n* @module @stdlib/utils-library-manifest\n*\n* @example\n* var manifest = require( '@stdlib/utils-library-manifest' );\n*\n* var conf = manifest( './manifest.json', {} );\n*/\n\n// MODULES //\n\nvar manifest = require( './manifest.js' );\n\n\n// EXPORTS //\n\nmodule.exports = manifest;\n"],"names":["is_object","value","Array","isArray","objectKeys","Object","keys","unique_1","arr","obj","i","length","isObject","require$$0","hasOwnProp","prototype","hasOwnProperty","validate_1","opts","options","call","basedir","TypeError","paths","path","cwd","require$$1","logger","require$$2","resolve","require$$3","sync","parentPath","require$$4","convertPath","require$$5","require$$6","unique","require$$7","validate","require$$8","DEFAULTS","require$$9","debug","manifest_1","manifest","fpath","conditions","coptnames","mpath","ropts","mopts","conf","deps","key","tmp","err","dir","o","j","k","JSON","parse","stringify","arguments","dirname","require","confs","fields","field","dependencies","join","filename","concat","relative","lib"],"mappings":"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"}